model Users {
  id           Int         @id @default(autoincrement())
  snsId        String      @unique @map("sns_id") @db.VarChar(255)
  authProvider String      @map("auth_provider") @db.VarChar(50)
  email        String      @unique @map("email") @db.VarChar(255)
  createdAt    DateTime    @default(now()) @map("created_at")
  updatedAt    DateTime    @updatedAt @map("updated_at")
  userRoles    UserRoles[] @relation
  userInfo     UserInfo?   @relation
  votes        Votes[]     @relation

  @@map("users")
}

model Roles {
  id         Int         @id @default(autoincrement())
  roleName   String      @unique @map("role_name") @db.VarChar(50)
  categoryId Int?        @map("categoryId")
  userRoles  UserRoles[] @relation

  category Categories? @relation(fields: [categoryId], references: [id])

  @@map("roles")
}

model UserRoles {
  userId Int
  roleId Int
  user   Users @relation(fields: [userId], references: [id])
  role   Roles @relation(fields: [roleId], references: [id])

  @@id([userId, roleId])
  @@map("user_roles")
}

model UserInfo {
  userId      Int      @id
  displayName String   @map("display_name") @db.VarChar(255)
  score       Int      @default(0) @map("score")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  user Users @relation(fields: [userId], references: [id])

  @@map("user_info")
}
